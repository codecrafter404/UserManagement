<!DOCTYPE html>
<html xmlns:f="http://typo3.org/ns/Neos/FluidAdaptor/ViewHelpers"
      xmlns:usermanagement="http://typo3.org/ns/Sandstorm/UserManagement/ViewHelpers"
      xmlns="http://www.w3.org/1999/xhtml"
      lang="en">

<f:layout name="Default"/>

<f:section name="Title">Login</f:section>

<f:section name="Content">

  <usermanagement:ifAuthenticated authenticationProviderName="Sandstorm.UserManagement:Login">
    <f:then>
      <f:render partial="LogoutForm" section="Logout" arguments="{_all}"/>
    </f:then>
    <f:else>
      <f:form action="authenticate" method="post">
        <h1>Hello world</h1>
        <p>this is a wonderful test</p>
        <fieldset>
          <input placeholder="{f:translate(id: 'emailAddress')}" name="__authentication[Neos][Flow][Security][Authentication][Token][UsernamePassword][username]" type="email" autofocus>
          <input placeholder="{f:translate(id: 'password')}" name="__authentication[Neos][Flow][Security][Authentication][Token][UsernamePassword][password]" type="password" value="">
          <input type="submit" value="{f:translate(id: 'login')}" class="button large primary" />
        </fieldset>
      </f:form>
      <f:link.action action="index" controller="ResetPassword"><f:translate id="passwordForgotten"></f:translate></f:link.action>
    </f:else>
  </usermanagement:ifAuthenticated>
</f:section>
</html>
